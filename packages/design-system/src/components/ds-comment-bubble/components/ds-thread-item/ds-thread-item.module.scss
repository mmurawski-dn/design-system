$avatar-size: 24px;
$avatar-fallback-font-size: 10px;
$header-height: 24px;
$icon-button-size: 16px;
$dropdown-min-width: 180px;
$border-radius-circle: 50%;
$transition-duration: 0.2s;

@mixin icon-button-size {
	&#{&} {
		width: $icon-button-size;
		height: $icon-button-size;
		min-width: $icon-button-size;
		min-height: $icon-button-size;
		padding: 0;
		border: none;
	}
}

.iconButtonContent {
	height: $icon-button-size !important;
	min-height: $icon-button-size !important;
	padding: 0 !important;
	border: none !important;
}

.threadItem {
	display: flex;
	gap: var(--spacing-lg);
	padding: var(--spacing-sm) var(--spacing-standard);
	position: relative;

	&:hover {
		.actions {
			opacity: 1;
		}
	}

	&.alignRight {
		flex-direction: row-reverse;

		.content {
			align-items: flex-end;
		}

		.message {
			text-align: right;
		}
	}
}

.avatarWrapper {
	flex-shrink: 0;
}

.avatar {
	width: $avatar-size;
	height: $avatar-size;
	border-radius: $border-radius-circle;
	object-fit: cover;
}

.avatarFallback {
	display: flex;
	align-items: center;
	justify-content: center;
	width: $avatar-size;
	height: $avatar-size;
	border-radius: $border-radius-circle;
	background: var(--color-background-tertiary);
	font-size: $avatar-fallback-font-size;
	font-weight: var(--font-weight-semi-bold);
	color: var(--color-font-main);
	text-transform: uppercase;
}

.content {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-3xs);
	flex: 1;
	min-width: 0;
}

.header {
	display: flex;
	align-items: center;
	gap: var(--spacing-xs);
	height: $header-height;
}

.authorName {
	font-size: var(--font-size-md);
	font-weight: var(--font-weight-semi-bold);
	line-height: var(--line-height-md);
	color: var(--color-font-main);
}

.timestamp {
	font-size: var(--font-size-md);
	font-weight: var(--font-weight-regular);
	line-height: var(--line-height-md);
	color: var(--color-font-secondary);
}

.message {
	font-size: var(--font-size-sm);
	font-weight: var(--font-weight-regular);
	line-height: var(--line-height-sm);
	color: var(--color-font-main);
	word-wrap: break-word;
	white-space: pre-wrap;
}

.actions {
	display: flex;
	align-items: flex-start;
	gap: var(--spacing-xs);
	opacity: 0;
	transition: opacity $transition-duration ease;
}

.actionButton {
	@include icon-button-size;
}

.editContainer {
	width: 100%;
	align-self: stretch;
}

.editTextarea {
	width: 100%;
}

.editActions {
	display: flex;
	gap: var(--spacing-xs);
	justify-content: flex-end;
	margin-top: var(--spacing-xs);
}

.dropdownContent {
	min-width: $dropdown-min-width;

	&#{&} {
		z-index: 1300;
	}
}
