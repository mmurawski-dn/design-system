---
description: Apply when reviewing code changes, running git diff, or preparing a PR
alwaysApply: false
---

# Code Review Rules

It is a local code review process done before submitting a PR.

## Process

1. Get diff: `git diff origin/main`
2. Review every changed file against project cursor rules
3. Flag only clear, high-severity issues (max 10 inline comments)

## Inline comment format

```typescript
/**
 * REVIEW-[SEVERITY]: [ISSUE DESCRIPTION]
 */
```

- One issue per comment; place on the exact changed line
- Natural tone, specific and actionable; do not mention automated or high-confidence
- Severity emojis: üö® Critical üîí Security ‚ö° Performance ‚ö†Ô∏è Logic ‚ú® Improvement

## Priorities to check

- No `!important` in SCSS
- No hardcoded colors or spacing (use `--color-*`, `--spacing-*` tokens)
- No `:global` in CSS modules
- No unnecessary `useMemo`/`useCallback`
- No `forwardRef` (deprecated)
- No cross-component internal imports
- No `useLayoutEffect` without DOM reads
- Stories have `play` functions with `fn()` and a11y queries
- No inline styles in stories
- Props layer doesn't expose library internals
- Logic errors, security issues, race conditions, missing edge cases

